FROM node:22-alpine
WORKDIR /app
RUN apk add --no-cache python3 build-base
ADD package.json pnpm-lock.yaml /app/
RUN npm install -g pnpm
RUN pnpm install
COPY . /app/
# Dev: do not perform full build fail-stop; allow partial TS
CMD ["pnpm", "run", "dev"]
